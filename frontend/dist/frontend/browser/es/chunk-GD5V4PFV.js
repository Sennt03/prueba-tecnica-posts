import{a as W}from"./chunk-GD2K3Y7Y.js";import{a as S}from"./chunk-O46OOCLH.js";import{c as k}from"./chunk-7DSHKHWS.js";import{a as z,b as m,c as V,d as x,f as q,g as O,h as B,l as j,n as K,o as Y}from"./chunk-L3J3RS7V.js";import"./chunk-7BMKDUXL.js";import{Da as D,H as d,I as c,L as G,M as o,N as n,O as E,S as H,T as $,U as F,V as l,W as A,Y as M,Z as p,n as g,o as f,p as C,s as N,w as _,xa as U,ya as X,z as b}from"./chunk-KEBKWCID.js";var I=class{static matchPasswords(e){let i=e.get("password").value,r=e.get("confirmPassword").value;return i!==r?{match_password:!0}:null;}};function J(t,e){t&1&&(o(0,"div"),l(1,8),n());}function Q(t,e){t&1&&(o(0,"div"),l(1,9),n());}function ee(t,e){if(t&1&&(o(0,"div",21),d(1,J,2,0,"div"),d(2,Q,2,0,"div"),n()),t&2){let i=M();_(),c(i.helperForm().hasError("username","email")?1:-1),_(),c(i.helperForm().hasError("username","required")?2:-1);}}function ie(t,e){t&1&&(o(0,"div"),l(1,10),n());}function te(t,e){t&1&&(o(0,"div"),l(1,11),n());}function oe(t,e){t&1&&(o(0,"div"),l(1,12),n());}function ne(t,e){if(t&1&&(o(0,"div",21),d(1,ie,2,0,"div")(2,te,2,0,"div")(3,oe,2,0,"div"),n()),t&2){let i=M();_(),c(i.helperForm().hasError("password","minlength")?1:i.helperForm().hasError("password","pattern")?2:i.helperForm().hasError("password","required")?3:-1);}}function re(t,e){t&1&&(o(0,"div",21)(1,"div"),l(2,13),n()());}var Z=class t{router=g(U);formBuilder=g(j);authService=g(k);form;maskLoad=N(!1);helperForm=()=>W(this.form);constructor(){this.buildForm();}buildForm(){let e=/^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{8,}$/;this.form=this.formBuilder.group({username:["",[m.required,m.email]],password:["",[m.required,m.minLength(8),m.pattern(e)]],confirmPassword:["",[m.required]]},{validators:I.matchPasswords});}register(){if(!this.form.valid){this.form.markAllAsTouched();return;}this.maskLoad.set(!0),this.authService.register(this.form.value).subscribe({next:e=>{let i="Registrado correctamente!";S.success(i,""),this.maskLoad.set(!1),this.form.markAsUntouched(),this.router.navigate(["../login"]);},error:e=>{this.maskLoad.set(!1),S.setOption("timeOut",3e3),window.innerWidth<768&&S.setOption("positionClass","toast-top-center");let i=e.status==409?"El correo ya esta registrado o contrase\xF1a no cumple requisitos de complejidad!":"Error al registrar!";S.error(i,""),S.setDefaultsOptions();}});}togglePasswordVisibility(e,i){e.classList.contains("fa-eye")?(e.classList.add("fa-eye-slash"),e.classList.remove("fa-eye"),i.type="text"):(e.classList.add("fa-eye"),e.classList.remove("fa-eye-slash"),i.type="password");}static ɵfac=function(i){return new(i||t)();};static ɵcmp=b({type:t,selectors:[["app-register"]],decls:30,vars:5,consts:()=>{let e;e="Email";let i;i="Contrase\xF1a";let r;r="Confirmar contrase\xF1a";let s;s="Crea una cuenta"+"\uFFFD#3\uFFFD"+"."+"\uFFFD/#3\uFFFD"+"";let T;T="Ya estas registrado? "+"\uFFFD#6\uFFFD"+"Inicia sesi\xF3n"+"\uFFFD/#6\uFFFD"+"";let u;u="Cancelar";let R;R="Crear cuenta";let P;P="*ingrese un email valido";let h;h="*requerido";let v;v="*debe tener m\xEDnimo 8 letras";let L;L="*contrase\xF1a muy debil";let w;w="*requerido";let y;return y="*contrase\xF1as no coinciden",[["password1",""],["passwordIcon1",""],["password2",""],["passwordIcon2",""],s,T,u,R,P,h,v,L,w,y,[1,"header","animate__animated","animate__fadeInDown"],[2,"color","#4da6ff"],["routerLink","../login"],[1,"animate__animated","animate__fadeInUp",3,"ngSubmit","formGroup"],[1,"form-group"],["type","email","placeholder",e,"formControlName","username"],[1,"fa-solid","fa-envelope"],[1,"div-error"],["type","password","placeholder",i,"formControlName","password"],[1,"icon-password","fa-regular","fa-eye",3,"click"],["type","password","placeholder",r,"formControlName","confirmPassword"],[1,"btns"],["type","button","routerLink","../login",1,"btn","btn-cancel"],["type","submit",1,"btn","btn-create"],[3,"show"]];},template:function(i,r){if(i&1){let s=H();o(0,"div",14)(1,"h2"),$(2,4),E(3,"span",15),F(),n(),o(4,"p"),$(5,5),E(6,"a",16),F(),n()(),o(7,"form",17),A("ngSubmit",function(){return f(s),C(r.register());}),o(8,"div",18),E(9,"input",19)(10,"i",20),n(),d(11,ee,3,2,"div",21),o(12,"div",18),E(13,"input",22,0),o(15,"i",23,1),A("click",function(){f(s);let u=p(14),R=p(16);return C(r.togglePasswordVisibility(R,u));}),n()(),d(17,ne,4,1,"div",21),o(18,"div",18),E(19,"input",24,2),o(21,"i",23,3),A("click",function(){f(s);let u=p(20),R=p(22);return C(r.togglePasswordVisibility(R,u));}),n()(),d(23,re,3,0,"div",21),o(24,"div",25)(25,"button",26),l(26,6),n(),o(27,"button",27),l(28,7),n()()(),E(29,"app-loading",28);}if(i&2){let s;_(7),G("formGroup",r.form),_(4),c(r.helperForm().haveErrors("username")?11:-1),_(6),c(r.helperForm().haveErrors("password")?17:-1),_(6),c((s=r.form.get("confirmPassword"))!=null&&s.touched&&r.form.errors&&r.form.hasError("match_password")?23:-1),_(6),G("show",r.maskLoad());}},dependencies:[D,X,K,q,z,V,x,O,B,Y],encapsulation:2});};export{Z as Register};/**i18n:b3883ab85ae623dab2f76dee90edb1a23055e95a2aa7383157e4cbec120e5849*/