import{a as S}from"./chunk-O46OOCLH.js";import{a as E,b as I,c as n}from"./chunk-7DSHKHWS.js";import"./chunk-7BMKDUXL.js";import{Aa as R,Ba as H,Ca as x,O as d,e as m,h as c,ha as h,n as o,pa as v,r as u,s as f,ta as g,ua as A,wa as C,xa as i,z as l}from"./chunk-KEBKWCID.js";var b=(t,e)=>{let r=o(n),p=o(i);return r.getAuth()?!0:(p.navigate(["/auth/login"]),!1);};var F=(t,e)=>{let r=o(i);return o(n).loggedIn()?(r.navigate(["/"]),!1):!0;};var D=[{path:"auth",loadChildren:()=>import("./chunk-OZKF5UR4.js").then(t=>t.AuthRoutes),canActivate:[F]},{path:"",loadChildren:()=>import("./chunk-OXRJXKMC.js").then(t=>t.HomeRoutes),canActivate:[b]},{path:"**",redirectTo:"/auth"}];var w=(t,e)=>{let r=o(i),p=o(n);return t.context.get(E)===!0?e(t):e(t).pipe(c(s=>{if(s.status===401){let N="Session expired!";S.error(N,""),p.logout().subscribe(),r.navigate(["/auth"]);}return m(()=>s);}));};var G={providers:[u(),h(),H(D,x(R)),g(A([I,w]))]};var a=class t{title=f("frontend");static ɵfac=function(r){return new(r||t)();};static ɵcmp=l({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,p){r&1&&d(0,"router-outlet");},dependencies:[C],encapsulation:2});};v(a,G).catch(t=>console.error(t));/**i18n:b3883ab85ae623dab2f76dee90edb1a23055e95a2aa7383157e4cbec120e5849*/